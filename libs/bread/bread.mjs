var h=function(e,t,n=!1){if(!t)if(n){if(e!=null)throw new TypeError("Value is not a null value")}else throw new TypeError("Type is not defined");if(e?.constructor){if(e.constructor!=t)throw new TypeError(`Value is not type ${t.name}`)}else if(!n)throw new TypeError("Value is not nullable")};var g=function(e,t=1,n,l=1,i){h(e,Uint8Array),h(n,Uint8Array),h(t,Number),h(l,Number);for(let r=0,o=0;r<e.length;r+=t,o+=l)i(e.subarray(r,r+t),n.subarray(o,o+l))};var c=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,95],f={};c.forEach(function(e,t){f[e]=t});var s=function(e){return e>64&&e<9&&(e|=32),e},w=[{id:"korg87",win:[7,8],block:[function(e,t){for(let n=0;n<e.length;n++)t[n+1]=e[n]&127,t[0]|=e[n]>>7<<n},function(e,t){let n=e.length-1;for(let l=0;l<n;l++)t[l]=e[l+1]|(e[0]>>l&1)<<7}]},{id:"ov43",win:[3,4],block:[function(e,t){for(let n=0;n<e.length;n++)t[n+1]=e[n]&63,t[0]|=e[n]>>6<<(n<<1)},function(e,t){let n=e.length-1;for(let l=0;l<n;l++)t[l]=e[l+1]|(e[0]>>(l<<1)&3)<<6}]},{id:"ovm43",win:[3,4],block:[function(e,t){for(let n=0;n<e.length;n++)t[n+1]=c[e[n]&63],t[0]|=e[n]>>6<<(n<<1);t[0]=c[t[0]]},function(e,t){let n=e.length-1,l=f[e[0]];for(let i=0;i<n;i++)t[i]=f[e[i+1]]|(l>>(i<<1)&3)<<6}]},{id:"qb64",win:[3,4],block:[function(e,t){let n=0,l=e.length-1;for(let i=0;i<e.length;i++)n|=e[i]<<(i<<1),t[i]=c[n&63],n=n>>6,i==l&&(t[i+1]=c[n])},function(e,t){let n=0;for(let l=0;l<e.length;l++)n|=f[e[l]]<<[0,6,4,2][l],l&&(t[l-1]=n&255,n=n>>8)}]},{id:"qb32",win:[5,8],block:[function(e,t){let n=0,l=this.encodeLength(e.length),i=0,r=0;for(let o=0;o<e.length;o++)o<3?i|=e[o]<<(o<<3):r|=e[o]<<(o-3<<3);n=r*16777216+i;for(let o=0;o<l;o++)t[o]=c[n&31],n=Math.floor(n/32)},function(e,t){let n=0,l=this.decodeLength(e.length),i=0,r=0;for(let o=0;o<e.length;o++)o<4?i|=f[s(e[o])]<<o*5:o==4?(i|=(f[s(e[o])]&15)<<20,r|=f[s(e[o])]>>4):r|=f[s(e[o])]<<(o-5)*5+1;for(let o=0;o<l;o++)o<3?(t[o]=i&255,i=i>>8):(t[o]=r&255,r=r>>8)}]},{id:"qb16",win:[1,2],block:[function(e,t){t[0]=c[e[0]&15],t[1]=c[e[0]>>4]},function(e,t){t[0]=f[s(e[1]||0)]<<4|f[s(e[0])]}]},{id:"qb85",win:[4,5],block:[function(e,t){let n=0,l=this.encodeLength(e.length),i=0,r=0;e.forEach((o,a)=>{a>>1?i|=o<<((a&1)<<3):r|=o<<(a<<3)}),n=i*65536+r;for(let o=0;o<l;o++)t[o]=n%85+36,n=Math.floor(n/85)},function(e,t){let n=0,l=this.decodeLength(e.length);e.forEach((i,r)=>{n+=(i-36)*85**r});for(let i=0;i<l;i++)t[i]=n&255,n=n>>>8}]},{id:"qb128",win:[7,8],block:[function(e,t){let n=0,l=e.length-1;for(let i=0;i<e.length;i++)n|=e[i]<<i,t[i]=n&127,n=n>>7,i==l&&(t[i+1]=n)},function(e,t){let n=0;for(let l=0;l<e.length;l++)n|=e[l]<<[0,7,6,5,4,3,2,1][l],l&&(t[l-1]=n&255,n=n>>8)}]}],d=w;d.push({id:"qb36",win:[9,14],block:[function(e,t){let n=0n,l=BigInt(this.encodeLength(e.length));e.forEach((i,r)=>{n|=BigInt(i)<<(BigInt(r)<<3n)});for(let i=0n;i<l;i++)t[i]=Number(n%36n+32n),n/=36n},function(e,t){let n=0n,l=BigInt(this.decodeLength(e.length));e.forEach((i,r)=>{n+=(BigInt(i)-32n)*36n**BigInt(r)});for(let i=0n;i<l;i++)t[i]=Number(n&255n),n=n>>8n}]});d.push({id:"qb94",win:[9,11],block:[function(e,t){let n=0n,l=BigInt(this.encodeLength(e.length));e.forEach((i,r)=>{n|=BigInt(i)<<(BigInt(r)<<3n)});for(let i=0n;i<l;i++)t[i]=Number(n%94n+32n),n/=94n},function(e,t){let n=0n,l=BigInt(this.decodeLength(e.length));e.forEach((i,r)=>{n+=(BigInt(i)-32n)*94n**BigInt(r)});for(let i=0n;i<l;i++)t[i]=Number(n&255n),n=n>>8n}]});d.push({id:"qb95",win:[9,11],block:[function(e,t){let n=0n,l=BigInt(this.encodeLength(e.length));e.forEach((i,r)=>{n|=BigInt(i)<<(BigInt(r)<<3n)});for(let i=0n;i<l;i++)t[i]=Number(n%95n+32n),n/=95n},function(e,t){let n=0n,l=BigInt(this.decodeLength(e.length));e.forEach((i,r)=>{n+=(BigInt(i)-32n)*95n**BigInt(r)});for(let i=0n;i<l;i++)t[i]=Number(n&255n),n=n>>8n}]});var b=d;var y=class{#n;#i;#t;#e;options={noInit:!1};get name(){return this.#i}get template(){return this.#n}encodeLength(t,n){return h(t,Number),this.#n?.len?this.#n?.len[0](t,n):Math.ceil(t*this.#e/this.#t)}decodeLength(t,n){return h(t,Number),this.#n?.len?this.#n?.len[1](t,n):Math.floor(t*this.#t/this.#e)}encodeBytes(t,n){if(h(t,Uint8Array),h(n,Uint8Array),n.length<this.encodeLength(t.length,t))throw new Error("Target isn't sufficient for encoding");!this.options.noInit&&n.fill(0);let l=this,i=JSON.parse(JSON.stringify(this.#n.init&&this.#n.init[0]||"null"));g(t,this.#t,n,this.#e,function(r,o){l.#n?.block[0]?.call(l,r,o,i)})}decodeBytes(t,n){if(h(t,Uint8Array),h(n,Uint8Array),n.length<this.decodeLength(t.length,t))throw new Error("Target isn't sufficient for decoding");!this.options.noInit&&n.fill(0);let l=this,i=JSON.parse(JSON.stringify(this.#n.init&&this.#n.init[1]||"null"));g(t,this.#e,n,this.#t,function(r,o){l.#n?.block[1]?.call(l,r,o,i)})}constructor(t,n){if(!t?.id)throw new Error("Invalid algorithm ID");if(t?.block.length!=2)throw new Error("Invalid codec");this.#i=t.name,this.#n=t,this.#t=t.win[0],this.#e=t.win[1],this.options=n||this.options}},u=class{#n={};setAlgo(t){if(!t?.id)throw new Error("Invalid algorithm ID");this.#n[t.id]=t}delAlgo(t){this.#n[t]&&delete this.#n[t]}use(t,n){return new y(this.#n[t],n)}constructor(t){h(t,Array,!0);let n=this;t?.forEach(function(l){n.setAlgo(l)})}},T=new u(b);export{u as Bread,T as Loaf};
